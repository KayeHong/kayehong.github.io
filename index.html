<!--
#!/bin/bash

# 사용법: ./find_function.sh <function_name> <output_file>
if [ $# -ne 2 ]; then
  echo "Usage: $0 <function_name> <output_file>"
  exit 1
fi

function_name=$1
output_file=$2

# 기존의 출력 파일을 초기화합니다.
> "$output_file"

# grep으로 프로젝트 내 모든 소스 파일에서 함수 호출을 검색하고 결과를 정리합니다.
grep -rnw --include=\*.{kt,java} . -e "$function_name" | while read -r line; do
  # 파일 경로와 라인 번호 추출
  file_path=$(echo "$line" | cut -d: -f1)
  line_number=$(echo "$line" | cut -d: -f2)
  function_call=$(echo "$line" | cut -d: -f3-)

  # 파일의 전체 경로를 Java/Kotlin 클래스의 Full name으로 변환 (예: src/com/example/MyClass.kt -> com.example.MyClass)
  class_name=$(echo "$file_path" | sed 's|src/||' | sed 's|/|.|g' | sed 's|\.kt\|\.java||')

  # 결과를 출력 파일에 저장
  echo "$function_call  -> $class_name($line_number)" >> "$output_file"
done

echo "Results saved to $output_file"



#!/bin/bash

branch=$1

if [ -z "$branch" ]; then
  echo "Usage: $0 <branch-name>"
  exit 1
fi

# 메인 저장소의 브랜치 삭제 함수
delete_branch() {
  local repo_path=$1

  echo "Processing repository: $repo_path"
  cd "$repo_path" || exit 1

  # 현재 브랜치와 리모트 브랜치의 상태 비교
  commits_ahead=$(git rev-list origin/$branch..$branch --count 2>/dev/null)

  if [ "$commits_ahead" -gt 0 ]; then
    echo "Error: There are $commits_ahead unpushed commits on branch '$branch' in $repo_path."
    echo "Push your changes or stash them before deleting the branch."
    cd - > /dev/null
    return 1
  fi

  # 브랜치가 있는지 확인
  if git show-ref --verify --quiet refs/heads/$branch; then
    git branch -D "$branch"
    echo "Deleted local branch: $branch in $repo_path"
  else
    echo "Local branch '$branch' does not exist in $repo_path. Skipping..."
  fi

  # 리모트 브랜치 삭제
  if git ls-remote --exit-code --heads origin "$branch" >/dev/null; then
    git push origin --delete "$branch"
    echo "Deleted remote branch: $branch in $repo_path"
  else
    echo "Remote branch '$branch' does not exist in $repo_path. Skipping..."
  fi

  cd - > /dev/null
}

# 메인 저장소 처리
delete_branch "."

# 모든 서브모듈 처리
git submodule foreach --recursive '
  branch_name='"$branch"'
  ../../'"$(basename "$0")"' $branch_name
'


-->
