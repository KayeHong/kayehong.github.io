<!--


#!/bin/bash

# 브랜치 이름을 인자로 전달 받음
branch_name=$1

if [ -z "$branch_name" ]; then
    echo "브랜치 이름을 입력하세요."
    exit 1
fi

# 변경사항이 있는지 확인하는 함수
create_branch_if_changes_exist() {
    # git status --porcelain으로 변경 사항이 있는지 확인
    if [[ -n $(git status --porcelain) ]]; then
        echo "변경사항이 발견됨. 브랜치 $branch_name 생성 중..."
        git checkout -b "$branch_name"
    else
        echo "변경사항이 없습니다. 브랜치를 만들지 않습니다."
    fi
}

# 메인 리포지토리에서 변경사항이 있는지 확인하고 브랜치 생성
echo "메인 리포지토리에서 변경사항을 확인 중..."
create_branch_if_changes_exist

# 서브모듈에서 변경사항이 있는지 확인하고 브랜치 생성
echo "서브모듈에서 변경사항을 확인 중..."
git submodule foreach --quiet '
    echo "서브모듈 $(basename "$name")에서 작업 중..."
    create_branch_if_changes_exist
'

echo "모든 작업이 완료되었습니다."



-->